extends privateLayout
block content

  - lookups = ['Plate_Format', 'Sample_Type'];

  div.container
    h2  Admin Page
    hr
                          
    a(href='/Lab_protocol/list')
      button.btn.btn-primary Manage Lab Protocols 

    p &nbsp;

    a(href='/Stock/receive')
      button.btn.btn-primary Receive Stock 

    hr

    div(ng-app='myApp')
      div(ng-controller="SharedController")
        div(ng-controller="FancyFormController")
          div(ng-controller="AdminController")
              
            include ./../core/errorMsg.jade

            include ./../core/angularMessages.jade

            form#adminForm(role='form' name='adminForm' method='post' action="#{sails.config.root}/record/list" enctype='form-data')

              dropdown(placeholder="Select Table ..." track='name' list="MenuList['table']" selected='table' ng-init="setup_Menu('table', 'Plate_Format,Sample_Type')" property='name' id='xyz')

              span &nbsp; &nbsp;
              
              button.btn.btn-primary(type='button' ng-disabled="!table" ng-click="reset_messages(); injectData('/record/list','injectedList', table, 'table')") List
              
            div#injectedList

            hr

            form(role='form' name='adminForm' method='post' action="#{sails.config.root}/Rack/newBox" enctype='form-data')

              h3 Create Slotted Box:
              div.form-group
                div.col-sm-3
                  input.input-lg.form-control(type='text' name = 'name' ng-model='name' placeholder='-- Box Name (eg B3) -- ')
                div.col-sm-3
                  input.input-lg.form-control(type='text' name = 'parent' ng-model='parent' required placeholder ='-- Scan Parent Shelf / Rack --')
                div.col-sm-3
                  dropdown(placeholder='Size..' ng-init="setup_Menu('size','1,9x9,8x12')" list="MenuList['size']" property='name' track='name' selected='size')

                // div.col-sm-3
                  span.lookup(id='Lookup-Capacity' ng-init="loadLookup('rack:Capacity','', 'Select Target Size')") 
                div.col-sm-3
                  button.btn.btn-lg.btn-primary(type='button' ng-click="newSlottedBox()" ng-disabled="!name || !parent || !size") Generate Box Record
     


    // If link section to the right include line below (and adjust Links.jade file as required) //
      include Links
